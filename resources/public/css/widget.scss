@use "sass:list";

$sprite-url: 'https://s3-us-west-2.amazonaws.com/reuters.medals-widget/flags.png';
$sprite-item-width: 28px;
$sprite-item-height: 17px;
$flags: AUT, BLR, CAN, CHN, FRA, GER, ITA, NED, NOR, RUS, SUI, SWE, USA;

$color1: #888;
$color2: #555;

// containers
#foo, #bar, #baz {
    min-height: 2em;
    padding: 1em;
}

// widget
.medal-count {
    font-family: Arial, Helvetica, sans-serif;
    color: $color1;
    .error {
        background-color: #fcc;
        padding: 1em;
        width: 21em;
    }
    h1 { font-size: 1.4em; font-weight: 500}
    ul {
        width: 23em;
        padding: 0;
        list-style-type: none;
        span {
            display: inline-block;

            &.spacer { width: 10em }

            &.idx { width: 2em; text-align: right; padding-right: 1em }
            &.flag { width: 3em }
            &.code { width: 4em; font-weight: 600; text-align: left }
            &.gold {
                width: 3em;
                text-align: center;
                .circle { background-color: #ffd700 }
            }
            &.silver {
                width: 3em;
                text-align: center;
                .circle { background-color: #c4cace }
            }
            &.bronze {
                width: 3em;
                text-align: center;
                .circle { background-color: #b1560f }
            }
            &.total {
                width: 4em;
                text-align: center;
                color: $color2;
                font-weight: 600;
            }

            &.circle {
              height: 1.2em;
              width: 1.2em;
              border-radius: 50%;
              display: inline-block;
              cursor: pointer;
              margin-bottom: -.2em
            }
            &.active {
                border-top: 2px solid $color1;
            }

        }
        li {
            vertical-align: middle;
            line-height: 2em;
            border-bottom: 1px solid $color1;
            &.hdr {
                border-bottom: 2px solid $color1;
                .total {
                    cursor: pointer;
                    color: $color2;
                    font-weight: 400;
                }
            }
        }

    }
    .flag {
        background-image: url($sprite-url);
        background-repeat: no-repeat;
        width: $sprite-item-width;
        height: $sprite-item-height;
        @each $flag in $flags {
            &.#{$flag} {
                background-position: 0 (-1 * (index($flags, $flag) - 1) * $sprite-item-height);
            }
        }
    }
}


